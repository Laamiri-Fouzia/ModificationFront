<div class="p-grid">
    <div class="p-col-12">
        <p-toast></p-toast>
        <div class="card p-grid">
            <h2 class="p-col-12 p-text-center bold">Liste des Absences</h2>

            <div  class="p-col-12">
                <button pButton pRipple  class="myButton" (click)="choisirParametre()" label="cliquer pour choisir les paramÃ©tres"></button>
            </div>
            <div  class="p-grid ">
            <div  class="p-col-6" [ngClass]="{'vis':displayTable==false}">
            <p-table  #dt [value]="inscriptionEtudiants" [columns]="cols"  [globalFilterFields]="['cne','nom']"
                     [(selection)]="selects"  [rowHover]="true" dataKey="id"
                     styleClass="p-datatable-customers"
                     currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
                <ng-template pTemplate="caption">
                    <div class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between table-header">
                        <h5 class="p-m-0">Liste des etudiants: </h5>
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="cne">CNE <p-sortIcon field="cne"></p-sortIcon></th>
                        <th pSortableColumn="nom">Nom <p-sortIcon field="nom"></p-sortIcon></th>
                        <th pSortableColumn="nom">PRENOM <p-sortIcon field="nom"></p-sortIcon></th>

                        <th style="width: 3rem">
                             <p-tableHeaderCheckbox ></p-tableHeaderCheckbox>
                        </th>
                        <th>Absent</th>
                        <!--<th pSortableColumn="nom">present <p-sortIcon field="nom"></p-sortIcon></th>-->

                        <!--<th pSortableColumn="totalPaye">Total Paye <p-sortIcon field="totalPaye"></p-sortIcon></th>-->
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-inscription>
                    <tr>
                        <td>{{inscription.etudiant.cne}}</td>
                        <td>{{inscription.etudiant.nom}}</td>
                        <td>{{inscription.etudiant.prenom}}</td>

                        <td>
                            <p-tableCheckbox [value]="inscription"></p-tableCheckbox>
                        </td>

                    </tr>
                </ng-template>
                <ng-template pTemplate="summary">
                    <div class="p-d-flex p-ai-center p-jc-between">
                        <button  class="buttonClass" (click)="validerAbsence()">valider</button>

                    </div>
                </ng-template>
            </p-table>
            </div>
                <div  class="p-col-6" [ngClass]="{'vis':displayTable==false}">
            <p-table  #dt [value]="listAbsences" [columns]="cols"  [globalFilterFields]="['cne','nom']"
                     [rowHover]="true" dataKey="id"
                     styleClass="p-datatable-customers"
                     currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
                <ng-template pTemplate="caption">
                    <div class="p-d-flex p-flex-column p-flex-md-row p-jc-md-between table-header">
                        <h5 class="p-m-0">Liste des Absence pour cette seance </h5>
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="cne">CNE <p-sortIcon field="cne"></p-sortIcon></th>
                        <th pSortableColumn="nom">Nom <p-sortIcon field="nom"></p-sortIcon></th>
                        <th pSortableColumn="nom">PRENOM <p-sortIcon field="nom"></p-sortIcon></th>
                        <th >Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-absence>
                    <tr>
                        <td>{{absence.etudiant.cne}}</td>
                        <td>{{absence.etudiant.nom}}</td>
                        <td>{{absence.etudiant.prenom}}</td>
                        <td>
                            <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="delete(absence)"></button>
                        </td>

                    </tr>
                </ng-template>
                <ng-template pTemplate="summary">
                    <div class="p-d-flex p-ai-center p-jc-between">

                    </div>
                </ng-template>
            </p-table>
            </div>
            </div>


        </div>
        <app-choisir-param></app-choisir-param>
    </div>
</div>

