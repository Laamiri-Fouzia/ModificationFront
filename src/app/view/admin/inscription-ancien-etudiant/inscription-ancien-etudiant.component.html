<div class="p-grid">
    <div class="p-col-12">

        <p-toast></p-toast>

        <div class="card p-grid">

            <p-toolbar class="p-col-12" styleClass="p-mb-4 ">

                <div class="p-col-2">
                    <p-dropdown (onChange)="change1()" [(ngModel)]="etudiantOption.annee" [options]="years" [style]="{'width':'180px'}"
                                optionLabel="annee" optionValue="code" styleClass="customClass"></p-dropdown>
                </div>

                <div class="p-col-2">
                    <p-dropdown  [(ngModel)]="etudiantOption.myOption.code" [filter]="true" [options]="options"
                                 [style]="{'width':'180px'}" optionLabel="label" optionValue="value"></p-dropdown>
                </div>

                <div class="p-col-2">
                    <p-dropdown  [(ngModel)]="etudiantOption.semestre.code" [options]="semestres"
                                 [style]="{'width':'180px'}" optionLabel="label" optionValue="value"></p-dropdown>
                </div>

                <p-button class="p-col-2" (click)="SearchAncienStudent()">chercher</p-button>

            </p-toolbar>

            <p-toolbar class="p-col-12" >
                <ng-template pTemplate="left">
                    <button pButton pRipple label="Nouveau Etudiant" icon="pi pi-plus" class="p-button-success p-mr-2 p-mb-2" (click)="openCreate()"></button>
                </ng-template>
            </p-toolbar>

            <p-table #dt [value]="etudiantAnciens" [columns]="cols" [rows]="4" [paginator]="true" [globalFilterFields]="['CNE','Nom',' Prenom']"
                     [rowHover]="true" dataKey="id"
                     styleClass="p-datatable-customers"
                     currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">

                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="CNE">CNE <p-sortIcon field="CNE"></p-sortIcon></th>
                        <th pSortableColumn="NOM">NOM<p-sortIcon field="NOM"></p-sortIcon></th>
                        <th pSortableColumn="PRENOM">PRENOM<p-sortIcon field="PRENOM"></p-sortIcon></th>
                        <th pSortableColumn="Action">Action<p-sortIcon field="Action"></p-sortIcon></th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-etudiantOption>
                    <tr>
                        <td>{{etudiantOption.etudiant.cne}} </td>
                        <td>{{etudiantOption.etudiant.nom}} </td>
                        <td> {{etudiantOption.etudiant.prenom}} </td>
                        <td>
                            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success p-mr-2"></button>
                        </td>
                    </tr>
                </ng-template>

            </p-table>
        </div>
        <app-inscription-nouveau-create></app-inscription-nouveau-create>
    </div>
</div>